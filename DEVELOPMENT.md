# ğŸ’° å®ç”¨è®°è´¦Appå¼€å‘æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

å¼€å‘ä¸€ä¸ªåŠŸèƒ½å®Œå–„ã€ä½“éªŒä¼˜ç§€çš„ä¸ªäººè´¢åŠ¡ç®¡ç†åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·è½»æ¾è®°å½•æ—¥å¸¸æ”¶æ”¯ã€åˆ†ææ¶ˆè´¹ä¹ æƒ¯ã€åˆ¶å®šç†è´¢ç›®æ ‡ã€‚

---

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### ğŸ  é¦–é¡µä»ªè¡¨ç›˜
| åŠŸèƒ½ | æè¿° |
|------|------|
| æœˆåº¦æ¦‚è§ˆ | æœ¬æœˆæ”¶å…¥ã€æ”¯å‡ºã€ç»“ä½™é‡‘é¢å±•ç¤º |
| å¿«é€Ÿè®°è´¦ | ä¸€é”®æ·»åŠ æ”¶æ”¯è®°å½• |
| è¿‘æœŸæµæ°´ | æœ€è¿‘5-10æ¡äº¤æ˜“è®°å½• |
| é¢„ç®—è¿›åº¦ | æœˆåº¦é¢„ç®—ä½¿ç”¨æƒ…å†µå¯è§†åŒ– |

### ğŸ“ è®°è´¦åŠŸèƒ½
| åŠŸèƒ½ | æè¿° |
|------|------|
| æ”¶å…¥è®°å½• | æ”¯æŒå·¥èµ„ã€å¥–é‡‘ã€æŠ•èµ„æ”¶ç›Šç­‰å¤šç§ç±»å‹ |
| æ”¯å‡ºè®°å½• | é¤é¥®ã€äº¤é€šã€è´­ç‰©ã€å¨±ä¹ç­‰åˆ†ç±» |
| è½¬è´¦è®°å½• | è´¦æˆ·é—´è½¬è´¦ |
| æ™ºèƒ½è¯†åˆ« | æ ¹æ®é‡‘é¢è‡ªåŠ¨æ¨èåˆ†ç±» |
| æ ‡ç­¾ç³»ç»Ÿ | è‡ªå®šä¹‰æ ‡ç­¾ä¾¿äºç­›é€‰ |
| å¤‡æ³¨&å›¾ç‰‡ | æ·»åŠ å¤‡æ³¨å’Œå‘ç¥¨/å°ç¥¨ç…§ç‰‡ |

### ğŸ“Š ç»Ÿè®¡åˆ†æ
| åŠŸèƒ½ | æè¿° |
|------|------|
| æ”¶æ”¯è¶‹åŠ¿ | å‘¨/æœˆ/å¹´åº¦è¶‹åŠ¿å›¾è¡¨ |
| åˆ†ç±»å æ¯” | é¥¼å›¾å±•ç¤ºå„ç±»æ”¯å‡ºå æ¯” |
| å¯¹æ¯”åˆ†æ | ç¯æ¯”/åŒæ¯”æ•°æ®å¯¹æ¯” |
| æ”¯å‡ºæ’è¡Œ | æ¶ˆè´¹é‡‘é¢TOP10 |
| å¯¼å‡ºæŠ¥å‘Š | ç”ŸæˆExcel/PDFè´¢åŠ¡æŠ¥å‘Š |

### ğŸ’³ è´¦æˆ·ç®¡ç†
| åŠŸèƒ½ | æè¿° |
|------|------|
| å¤šè´¦æˆ· | ç°é‡‘ã€é“¶è¡Œå¡ã€ä¿¡ç”¨å¡ã€æ”¯ä»˜å®ã€å¾®ä¿¡ç­‰ |
| èµ„äº§æ€»è§ˆ | å…¨éƒ¨èµ„äº§ä¸€ç›®äº†ç„¶ |
| è´¦æˆ·ä½™é¢ | å®æ—¶ä½™é¢åŒæ­¥ |
| è´Ÿå€ºç®¡ç† | ä¿¡ç”¨å¡è¿˜æ¬¾æé†’ |

### ğŸ¯ é¢„ç®—ç®¡ç†
| åŠŸèƒ½ | æè¿° |
|------|------|
| æ€»é¢„ç®— | è®¾å®šæœˆåº¦/å¹´åº¦æ€»é¢„ç®— |
| åˆ†ç±»é¢„ç®— | ä¸ºå„æ¶ˆè´¹ç±»åˆ«è®¾ç‹¬ç«‹é¢„ç®— |
| è¶…æ”¯é¢„è­¦ | æ¥è¿‘æˆ–è¶…è¿‡é¢„ç®—æ—¶æé†’ |
| é¢„ç®—å»ºè®® | åŸºäºå†å²æ•°æ®çš„æ™ºèƒ½å»ºè®® |

### â° æé†’åŠŸèƒ½
| åŠŸèƒ½ | æè¿° |
|------|------|
| è®°è´¦æé†’ | æ¯æ—¥å®šæ—¶æé†’è®°è´¦ |
| è´¦å•æé†’ | ä¿¡ç”¨å¡è¿˜æ¬¾ã€æˆ¿ç§Ÿç­‰å‘¨æœŸæ€§æé†’ |
| å‘¨æŠ¥/æœˆæŠ¥ | è‡ªåŠ¨ç”Ÿæˆè´¢åŠ¡æ‘˜è¦æ¨é€ |

---

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ (React)
```
â”œâ”€â”€ æ¡†æ¶: React 18
â”œâ”€â”€ æ„å»ºå·¥å…·: Vite
â”œâ”€â”€ UIç»„ä»¶: è‡ªå®šä¹‰ç»„ä»¶åº“
â”œâ”€â”€ å›¾è¡¨: ECharts
â”œâ”€â”€ è·¯ç”±: React Router v6
â”œâ”€â”€ çŠ¶æ€: Zustand
â”œâ”€â”€ è¯·æ±‚: Axios + React Query
â””â”€â”€ æ ·å¼: CSS Modules + CSS Variables
```

### åç«¯æŠ€æœ¯æ ˆ (äº‘åŒæ­¥)
```
â”œâ”€â”€ è¿è¡Œæ—¶: Node.js
â”œâ”€â”€ æ¡†æ¶: Express
â”œâ”€â”€ æ•°æ®åº“: SQLite (å¼€å‘) / PostgreSQL (ç”Ÿäº§)
â”œâ”€â”€ ORM: Prisma
â”œâ”€â”€ è®¤è¯: JWT + Refresh Token
â””â”€â”€ API: RESTful
```

### äº‘åŒæ­¥æ¶æ„
```mermaid
graph LR
    A[React å‰ç«¯] -->|APIè¯·æ±‚| B[Express åç«¯]
    B -->|è¯»å†™| C[(PostgreSQL)]
    A -->|ç¦»çº¿ç¼“å­˜| D[IndexedDB]
    D -->|åŒæ­¥| B
```

### åŒæ­¥ç­–ç•¥
| åœºæ™¯ | ç­–ç•¥ |
|------|------|
| åœ¨çº¿ | å®æ—¶åŒæ­¥åˆ°äº‘ç«¯ |
| ç¦»çº¿ | æœ¬åœ°IndexedDBç¼“å­˜ |
| æ¢å¤ | è‡ªåŠ¨åˆå¹¶å†²çªæ•°æ® |

### æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆ
```javascript
// IndexedDB å®ç°ç¦»çº¿ä¼˜å…ˆ + äº‘åŒæ­¥
const dbSchema = {
  transactions: '++id, date, type, amount, category, account, syncStatus',
  accounts: '++id, name, type, balance, icon, syncStatus',
  categories: '++id, name, type, icon, color',
  budgets: '++id, category, amount, period',
  syncQueue: '++id, action, data, timestamp'  // ç¦»çº¿æ“ä½œé˜Ÿåˆ—
}
```

---

## æ•°æ®æ¨¡å‹è®¾è®¡

### äº¤æ˜“è®°å½• (Transaction)
```typescript
interface Transaction {
  id: string;
  type: 'income' | 'expense' | 'transfer';
  amount: number;
  category: string;
  accountId: string;
  targetAccountId?: string;  // è½¬è´¦ç›®æ ‡è´¦æˆ·
  date: Date;
  note?: string;
  tags?: string[];
  attachments?: string[];
  createdAt: Date;
  updatedAt: Date;
}
```

### è´¦æˆ· (Account)
```typescript
interface Account {
  id: string;
  name: string;
  type: 'cash' | 'bank' | 'credit' | 'alipay' | 'wechat' | 'investment';
  balance: number;
  icon: string;
  color: string;
  isDefault: boolean;
  order: number;
}
```

### åˆ†ç±» (Category)
```typescript
interface Category {
  id: string;
  name: string;
  type: 'income' | 'expense';
  icon: string;
  color: string;
  parentId?: string;  // æ”¯æŒå­åˆ†ç±»
  budget?: number;
  order: number;
}
```

### é¢„ç®— (Budget)
```typescript
interface Budget {
  id: string;
  categoryId?: string;  // null è¡¨ç¤ºæ€»é¢„ç®—
  amount: number;
  period: 'weekly' | 'monthly' | 'yearly';
  startDate: Date;
  alertThreshold: number;  // é¢„è­¦é˜ˆå€¼ (0-1)
}
```

---

## UI/UX è®¾è®¡è§„èŒƒ

### è®¾è®¡åŸåˆ™
1. **ç®€æ´é«˜æ•ˆ** - æœ€å¸¸ç”¨çš„æ“ä½œ3æ¬¡ç‚¹å‡»å†…å®Œæˆ
2. **ä¿¡æ¯æ¸…æ™°** - å…³é”®æ•°æ®ä¸€ç›®äº†ç„¶
3. **è§†è§‰æ„‰æ‚¦** - ç°ä»£åŒ–è®¾è®¡è¯­è¨€
4. **æ“ä½œæµç•…** - ä¸æ»‘çš„åŠ¨ç”»è¿‡æ¸¡

### é…è‰²æ–¹æ¡ˆ
```css
:root {
  /* ä¸»è‰²è°ƒ - æ¸…æ–°ç»¿ */
  --primary: #10B981;
  --primary-light: #34D399;
  --primary-dark: #059669;
  
  /* è¯­ä¹‰è‰² */
  --income: #10B981;    /* æ”¶å…¥ - ç»¿è‰² */
  --expense: #EF4444;   /* æ”¯å‡º - çº¢è‰² */
  --transfer: #6366F1;  /* è½¬è´¦ - ç´«è‰² */
  
  /* ä¸­æ€§è‰² */
  --bg-primary: #FFFFFF;
  --bg-secondary: #F9FAFB;
  --text-primary: #111827;
  --text-secondary: #6B7280;
  
  /* æš—è‰²æ¨¡å¼ */
  --dark-bg: #1F2937;
  --dark-surface: #374151;
  --dark-text: #F9FAFB;
}
```

### å­—ä½“è§„èŒƒ
```css
:root {
  --font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', sans-serif;
  --font-size-xs: 0.75rem;   /* 12px */
  --font-size-sm: 0.875rem;  /* 14px */
  --font-size-base: 1rem;    /* 16px */
  --font-size-lg: 1.125rem;  /* 18px */
  --font-size-xl: 1.25rem;   /* 20px */
  --font-size-2xl: 1.5rem;   /* 24px */
  --font-size-3xl: 2rem;     /* 32px */
}
```

### é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Header (å¯é€‰)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚         ä¸»å†…å®¹åŒºåŸŸ                   â”‚
â”‚         (å¯æ»šåŠ¨)                    â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â¬¤    ğŸ“    â•    ğŸ“Š    ğŸ‘¤         â”‚
â”‚ é¦–é¡µ  è´¦å•  è®°è´¦  ç»Ÿè®¡  æˆ‘çš„        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é¡¹ç›®ç»“æ„

```
accountbook/
â”œâ”€â”€ client/                    # React å‰ç«¯
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.jsx
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ components/        # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home/
â”‚   â”‚   â”‚   â”œâ”€â”€ Transactions/
â”‚   â”‚   â”‚   â”œâ”€â”€ AddTransaction/
â”‚   â”‚   â”‚   â”œâ”€â”€ Statistics/
â”‚   â”‚   â”‚   â”œâ”€â”€ Accounts/
â”‚   â”‚   â”‚   â”œâ”€â”€ Auth/          # ç™»å½•/æ³¨å†Œ
â”‚   â”‚   â”‚   â””â”€â”€ Settings/
â”‚   â”‚   â”œâ”€â”€ stores/            # Zustand çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js         # API è¯·æ±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ db.js          # IndexedDB
â”‚   â”‚   â”‚   â””â”€â”€ sync.js        # åŒæ­¥é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                    # Express åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.js           # å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/            # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â”œâ”€â”€ transactions.js
â”‚   â”‚   â”‚   â”œâ”€â”€ accounts.js
â”‚   â”‚   â”‚   â””â”€â”€ sync.js
â”‚   â”‚   â”œâ”€â”€ controllers/       # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/            # Prisma æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â””â”€â”€ validate.js
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma      # æ•°æ®åº“æ¨¡å‹
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ package.json               # å·¥ä½œåŒºé…ç½®
```

---

## å¼€å‘è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¶æ„ (1å‘¨)
- [ ] é¡¹ç›®åˆå§‹åŒ– (Vite + React)
- [ ] åç«¯æ­å»º (Express + Prisma)
- [ ] ç”¨æˆ·è®¤è¯ (æ³¨å†Œ/ç™»å½•/JWT)
- [ ] æ•°æ®åº“æ¨¡å‹è®¾è®¡

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½ (2å‘¨)
- [ ] æ·»åŠ æ”¶æ”¯è®°å½•
- [ ] äº¤æ˜“æµæ°´åˆ—è¡¨
- [ ] é¦–é¡µä»ªè¡¨ç›˜
- [ ] è´¦æˆ·ç®¡ç†æ¨¡å—
- [ ] åˆ†ç±»ç®¡ç†æ¨¡å—

### ç¬¬ä¸‰é˜¶æ®µï¼šæ•°æ®åˆ†æ (1å‘¨)
- [ ] ç»Ÿè®¡å›¾è¡¨ (ECharts)
- [ ] æœç´¢ä¸ç­›é€‰
- [ ] æ•°æ®å¯¼å‡º

### ç¬¬å››é˜¶æ®µï¼šäº‘åŒæ­¥ (1å‘¨)
- [ ] IndexedDB ç¦»çº¿ç¼“å­˜
- [ ] åŒæ­¥é˜Ÿåˆ—æœºåˆ¶
- [ ] å†²çªæ£€æµ‹ä¸åˆå¹¶
- [ ] ç¦»çº¿/åœ¨çº¿çŠ¶æ€å¤„ç†

### ç¬¬äº”é˜¶æ®µï¼šå¢å¼ºä½“éªŒ (1å‘¨)
- [ ] é¢„ç®—ç®¡ç†
- [ ] æé†’åŠŸèƒ½
- [ ] æš—è‰²æ¨¡å¼
- [ ] PWA æ”¯æŒ

---

## éªŒè¯è®¡åˆ’

### åŠŸèƒ½æµ‹è¯•
1. **è®°è´¦åŠŸèƒ½æµ‹è¯•**
   - æ·»åŠ æ”¶å…¥/æ”¯å‡º/è½¬è´¦è®°å½•
   - éªŒè¯é‡‘é¢è®¡ç®—æ­£ç¡®æ€§
   - æµ‹è¯•åˆ†ç±»å’Œæ ‡ç­¾åŠŸèƒ½

2. **ç»Ÿè®¡åŠŸèƒ½æµ‹è¯•**
   - éªŒè¯å›¾è¡¨æ•°æ®å‡†ç¡®æ€§
   - æµ‹è¯•ä¸åŒæ—¶é—´èŒƒå›´ç­›é€‰

3. **æ•°æ®æŒä¹…åŒ–æµ‹è¯•**
   - åˆ·æ–°é¡µé¢åæ•°æ®ä¿ç•™
   - æµ‹è¯•æ•°æ®å¯¼å…¥å¯¼å‡º

### ç”¨æˆ·æ‰‹åŠ¨æµ‹è¯•
1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åº”ç”¨
2. å®Œæ•´ä½“éªŒè®°è´¦æµç¨‹
3. æ£€æŸ¥UIäº¤äº’æ˜¯å¦æµç•…
4. éªŒè¯åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸ
